{"version":3,"file":"static/js/881.d6deaec8.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/FilmCard/FilmCard.module.css?23a1","components/FilmCard/FilmCard.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"FilmCard_item__A1bda\",\"image\":\"FilmCard_image__VWLwf\",\"title\":\"FilmCard_title__ztWsR\",\"rating\":\"FilmCard_rating__MZ4QO\",\"wrapper\":\"FilmCard_wrapper__wRqCB\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './FilmCard.module.css';\n\n\nexport const FilmCard = ({ image, title, rating, id }) => {\n  const location = useLocation();\n  return (\n    <li>\n      <Link\n        state={{ from: location }}\n        to={`/movies/${id}`}\n        className={css.item}\n      >\n        <img className={css.image} src={image} alt={title} />\n        <div className={css.wrapper}>\n          <h3 className={css.title}>{title}</h3>\n          <p className={css.rating}>\n            Rating: <span>{rating}</span>\n          </p>\n        </div>\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"form\":\"Movies_form__4ow+Z\",\"filmList\":\"Movies_filmList__kdMGP\",\"title\":\"Movies_title__MDLXB\",\"buttonMore\":\"Movies_buttonMore__bIeNf\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\nimport { getByName } from '../../services/api';\nimport { FilmCard } from 'components/FilmCard/FilmCard';\nimport imagePlaceholder from '../../images/film-poster-placeholder.png';\nimport { useEffect } from 'react';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = searchParams.get('page') ?? 1;\n  const query = searchParams.get('query') ?? '';\n  // eslint-disable-next-line\n  const [search, setSearch] = useState('');\n  const [searchedFilms, setSearchedFilms] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const responce = await getByName(query, page);\n        setSearchedFilms([...searchedFilms, ...responce.data.results]);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    fetchData();\n    // eslint-disable-next-line\n  }, [page]);\n\n  const handleInputChange = evt => {\n    const { value } = evt.target;\n    setSearch(value);\n    setSearchParams({ query: value });\n  };\n\n  const handleSubmitForm = async evt => {\n    evt.preventDefault();\n\n    if (query === '') {\n      return;\n    }\n    const responce = await getByName(query, 1);\n    setTotalPages(responce.data.total_pages);\n    setSearchedFilms(responce.data.results);\n    setSearchParams({ query, page: 1 });\n  };\n\n  const handleLoadMore = async evt => {\n    setSearchParams({ query, page: Number(page) + 1 });\n  };\n  console.log(error);\n  return (\n    <>\n      <h2 className={css.title}>Movies</h2>\n      <form className={css.form} onSubmit={handleSubmitForm}>\n        <input\n          onChange={handleInputChange}\n          value={query}\n          className={css.input}\n          placeholder=\"Enter the name of the movie\"\n          type=\"text\"\n        />\n        <button className={css.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {searchedFilms && (\n        <>\n          <ul className={css.filmList}>\n            {searchedFilms.map(movie => (\n              <FilmCard\n                key={movie.id}\n                id={movie.id}\n                image={\n                  `https://image.tmdb.org/t/p/w300/${movie.poster_path}` !==\n                  `https://image.tmdb.org/t/p/w300/null`\n                    ? `https://image.tmdb.org/t/p/w300/${movie.poster_path}`\n                    : imagePlaceholder\n                }\n                title={movie.title || movie.name}\n                rating={movie.vote_average}\n              />\n            ))}\n          </ul>\n          {totalPages > 1 && totalPages !== Number(page) && (\n            <button\n              className={css.buttonMore}\n              onClick={handleLoadMore}\n              type=\"button\"\n            >\n              Load more\n            </button>\n          )}\n        </>\n      )}\n    </>\n  );\n};\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '087b3a8cac1b0930cef8c04cbd521bfb';\n\nexport const getTrendingsDay = async () => {\n  const responce = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n  return responce;\n};\n\nexport const getTrendings = async () => {\n  const responce = await axios.get(\n    `https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}`\n  );\n  return responce;\n};\n\nexport const getByName = async (query, page) => {\n  const responce = await axios.get(\n    `\nhttps://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n  return responce;\n};\n\nexport const getMovieInfo = async movieId => {\n  const responce = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return responce;\n};\n\nexport const getReviews = async movieId => {\n  const responce = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  return responce;\n};\n\nexport const getCast = async movieId => {\n  const responce = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return responce;\n};\n"],"names":["FilmCard","image","title","rating","id","location","useLocation","state","from","to","className","css","src","alt","useSearchParams","searchParams","setSearchParams","page","get","query","useState","setSearch","searchedFilms","setSearchedFilms","totalPages","setTotalPages","error","setError","useEffect","fetchData","getByName","responce","data","results","handleSubmitForm","evt","preventDefault","total_pages","handleLoadMore","Number","console","log","onSubmit","onChange","value","target","placeholder","type","map","movie","poster_path","imagePlaceholder","name","vote_average","onClick","API_KEY","getTrendingsDay","axios","getTrendings","getMovieInfo","movieId","getReviews","getCast"],"sourceRoot":""}